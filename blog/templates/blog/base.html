<!DOCTYPE html>
{% load staticfiles %}
{% load blog_templatetags %}
{% load emoji_tags %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    {% block title %}
    <title>Title</title>
    {% endblock %}
    {% block base_css %}
        <link href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
        <script src="{% static 'js/jquery.min.js' %}"></script>
        <script src="{% static 'js/bootstrap.min.js' %}"></script>
        <!--emojione v2.1.1 使用bootstrap的cdn-->
        <link rel="stylesheet" type="text/css" href="http://cdn.bootcss.com/emojione/2.1.1/assets/sprites/emojione.sprites.css">
        <script type="text/javascript" src="http://cdn.bootcss.com/emojione/2.1.1/lib/js/emojione.min.js"></script>

        <!--emojionearea-->
        <link rel="stylesheet" type="text/css" href="{% static 'css/emojionearea.min.css' %}">
        <script type="text/javascript" src="{% static 'js/emojionearea.min.js' %}"></script>

        <!--code高亮显示-->
        <!--<link rel="stylesheet" href="{% static 'css/highlight/atom-one-dark.css' %}">-->
        <link rel="stylesheet" href="{% static 'css/highlight/zenburn.css' %}">

        <!--增加的icon图片-->
        <link rel="stylesheet" href="{% static 'css/glyphicons_extras.css' %}">

        <style>
            pre {
                border-radius:10px;
            }
            pre code{
                border-radius:5px;
            }

            /* for block of numbers */
            td.hljs-ln-numbers {
                -webkit-touch-callout: none;
                -webkit-user-select: none;
                -khtml-user-select: none;
                -moz-user-select: none;
                -ms-user-select: none;
                user-select: none;

                text-align: left;
                color: #ccc;
                border-right: 1px solid #CCC;
                vertical-align: top;
                /* your custom style here */
            }
            div.hljs-ln-line {
                padding-right:8px;
                padding-left:10px;
            }
            .show_hand{
                cursor: pointer;
            }
            .word-wrap{
                word-wrap: break-word;
            }
            .overflow{
                overflow: scroll;
            }
            .font-opacity{
               opacity: 0.5;
            }
            .font-opacity-3{
                opacity: 0.3;
            }
            .bigger:hover{
                width:106%;
            }
            .bg-blue:hover{
                background-color:#d9edff;
            }
            .font-40-size{
                font-size:40px;
            }
            .font-30-size{
                font-size:30px;
            }
            .font-20-size{
                font-size:20px;
            }
            .font-15-size{
                font-size:15px;
            }
            .font-25-size{
                font-size:25px;
            }
            .font-bold{
                color:black;
            }
            .hover-font{
                opacity: 0.7;
            }
            .hover-font:hover{
                opacity: 1;
            }
            .in-line{
                display: inline-block;
            }
            .hover-bigger:hover{
                text-decoration:none;
                transform:scale(1.2);
                -ms-transform:scale(1.2); 	/* IE 9 */
                -moz-transform:scale(1.2); 	/* Firefox */
                -webkit-transform:scale(1.2); /* Safari 和 Chrome */
                -o-transform:scale(1.2); 	/* Opera */
            }
            .border-1{
                border:1px solid;
            }
            .border-1-cc{
                border:1px solid #cccccc;
            }
            .border-radius-3{
                border-radius:3px;
            }
            .border-radius-5{
                border-radius:5px;
            }
            .border-radius-15{
                border-radius:15px;
            }
            .box-radius-2{
                border-radius:2px;
                padding:2px;
            }
            .box-radius-3{
                border:1px solid;
                border-radius:3px;
                padding-left:4px;
                padding-right:4px;
                padding-top:2px;
                padding-bottom:2px;
            }
            .box-radius-3:hover{
                border:1px solid #ee9f49;
                background-color:#ee9f49;
                border-radius:3px;
                color:white;
                padding-left:4px;
                padding-right:4px;
                padding-top:2px;
                padding-bottom:2px;
            }
            .box-radius-5-green{
                border:1px solid #5cb85c;
                border-radius:3px;
                color:#5cb85c;
                padding-left:4px;
                padding-right:8px;
                padding-top:4px;
                padding-bottom:8px;
            }
            .box-radius-5{
                border-radius:5px;
                padding:5px;
            }
            .bg-self-success{
                background-color:#397339;
                color:#ffffff;
            }
            .bg-self-warning{
                background-color:#8C6B39;
                color:#ffffff;
            }
            .bg-self-danger{
                background-color:#AD4242;
                color:#ffffff;
            }
            .box-radius-5-reversed{
                border-radius:5px;
                padding-top:3px;
                padding-bottom:3px;
                padding-left:5px;
                padding-right:5px;
            }
            .box-radius-5-gray{
                border-radius:5px;
                border:1px solid #cccccc;
            }
            .box-radius-8{
                border-radius:8px;
                padding:10px;
            }
            a.gray{
                color:#777777;
            }
            a.gray-5{
                color:#555555;
            }
            a.gray:hover{
                color:#333333;
            }
            a.black{
                color:#444444;
            }
            a.black:hover{
                color:#111111;
            }
            a.white{
                color:white;
            }
            a.yellow{
                color:yellow;
            }
            a.green{
                color:green;
            }
            a.red{
                color:red;
            }
            a:hover{
                color:#ee9f49;
                text-decoration:none;
            }
            .gold-color{
                color:#ee9f49;
            }
            .red{
                color:red;
            }
            @font-face {
                font-family: 'Light';
                src: url('{% static 'fonts/Light.ttf' %}');
                src: local('{% static 'fonts/Light.ttf' %}');
            }
            img{
                #border: green solid 1px;
                max-width:100%;
                /*display:block;   ... */
            }
            .div-inline{
                display:inline;
            }
            .bg-gray{
               background-color:#A0A0A0;
               color:#ffffff;
            }
            .bg-gray-55{
               background-color:#555555;
               color:#ffffff;
            }
            .bg-gray-f0{
                background-color:#f0f0f0;
            }
            .bg-gray-light{
               background-color:#17A2B8;
               color:#ffffff;
            }
            .bg-new{
                background-color:#17A2B8;
            }
            .bg-red{
                background-color:red;
                color:#ffffff;
            }
            .bg-green{
                background-color:#A0E75A;
                color:#ffffff;
            }
            .bg-chat-white{
                background-color:#FFFFFF;
            }
            .bg-chat-gray{
                background-color:#EBEBEB;
            }
            .bg-chat-gray-2{
                background-color:#D4D4D4;
                color:#ffffff;
            }
            .bg-chat-green{
                background-color:#A0E75A;
            }
            .box-shadow-entry{
                box-shadow: 2px 2px 2px #888888;
            }
            .box-shadow-entry:hover{
                box-shadow: 2px 2px 2px #888888 inset;
            }
            .box-shadow-sm{
                box-shadow: 2px 2px 1px #888888;
            }
            .box-shadow-md{
                box-shadow: 4px 4px 2px #888888;
            }
            .box-shadow-lg{
                box-shadow: 10px 10px 5px #888888;
            }
            .box-shadow-max{
                box-shadow: 20px 20px 10px #888888;
            }
            .text-shadow-sm{
                text-shadow: 2px 2px 1px #888888;
            }
            .text-shadow-lg{
                text-shadow: 4px 4px 2px #888888;
            }
            @media (min-width: 1500px) {
              .container {
                width: 1500px;
              }
            }
            .margin-top-2{
                margin-top:2px;
            }
            .margin-top-3{
                margin-top:3px;
            }
            .margin-top-5{
                margin-top:5px;
            }
            .margin-top-8{
                margin-top:8px;
            }
            .margin-top-20{
                margin-top:20px;
            }
            .margin-bottom-20{
                margin-bottom:20px;
            }
            .outer {
              width: 1px;
              height: 100%;
              margin: auto;
              position: relative;
              overflow: hidden;
            }
            .inner {
              position: absolute;
              width:100%;
              height: 40%;
              background: grey;
              top: 30%;
              box-shadow: 0px 0px 30px 20px grey;
            }
            .emojione{
                font-size: inherit;
                height: 2ex;
                width: 2.1ex;
                min-height: 20px;
                min-width: 20px;
                display: inline-block;
                margin: -.2ex .15em .2ex;
                line-height: normal;
                vertical-align: middle;
                max-width: 100%;
                top: 0;
            }

        </style>
    {% endblock %}
    {% block script %}
        <script src="https://highlightjs.org/static/highlight.pack.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.3.0/highlightjs-line-numbers.min.js"></script>
        <!--<script>hljs.initHighlightingOnLoad();</script>-->
        <!--<script>hljs.initLineNumbersOnLoad();</script>-->
        <script>
            function html_encode(str)
              {
                  var s = "";
                  if (str.length == 0) return "";
                  s = str.replace(/&/g, ">");
                  s = s.replace(/</g, "<");
                  s = s.replace(/>/g, ">");
                  s = s.replace(/ /g, " ");
                  s = s.replace(/\'/g, "'");
                  s = s.replace(/\"/g, '"');
                  s = s.replace(/\n/g, "<br>");
                  return s;
              }
        </script>
    {% endblock %}
</head>
<body>
    {% block nav %}
        <nav class="navbar navbar-default" role="navigation">
          <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="{% url 'index' %}">
              <span class="glyphicon glyphicon-home"></span> 主页
              </a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
              <ul class="nav navbar-nav">
                <li><a href="{% url 'articles_list' %}">
                    <span class="glyphicon glyphicon-list-alt"></span> <span>文章</span></a></li>

                  <li>
                  <form class="navbar-form" action="{% url 'user_search' %}" method="get">
                    <div class="form-group">
                        <div class="input-group">
                            <input type="text" class="form-control" id="q" name="q" placeholder="搜索用户、文章" />
                            <span class="input-group-btn">
                                <button class="btn" type="submit"><span class="glyphicon glyphicon-search"></span></button>
                            </span>
                        </div>
                    </div>
                  </form>
                  </li>
              </ul>

              <ul class="nav navbar-nav navbar-right">
                {% if not user.is_authenticated %}
                  <li><a href="{% url 'user_login' %}">
                      <span class="glyphicon glyphicon-log-in"></span>
                      登录</a></li>
                  <li><a href="{% url 'user_register' %}">
                      <span class="glyphicon glyphicon-envelope"></span>
                      注册</a></li>
                {% else %}
                  <li class="text text-left"><a href="{% url 'user_info' %}">
                      欢迎,<span class="gold-color">{% get_nickname user.id %}</span>!</a>
                  </li>


                  <li><a href="{% url 'user_zone' user.id %}">
                      <span class="glyphicon glyphicon-leaf"></span> 我的博客
                      </a></li>
                  <li><a href="{% url 'user_notifications' %}">
                    <span class="glyphicon glyphicon-bell"></span> 消息
                    <span class="badge">{% get_user_messages_count user %}</span></a></li>

                  <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                            <span class="glyphicon glyphicon-book"></span> 文章管理

                        <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="{% url 'article_custom_categories_list' %}">
                                <span class="glyphicons glyphicons-list-alt">文章分类</span>
                                </a></li>
                            <li><a href="{% url 'article_add' %}">
                                <span class="glyphicons glyphicons-pen">写文章</span>
                                </a></li>
                            <li><a href="{% url 'article_update_list' %}">
                                <span class="glyphicons glyphicons-edit">编辑文章</span>
                                </a></li>
                            <li><a href="{% url 'article_delete_list' %}">
                                <span class="glyphicons glyphicons-bin">删除文章</span>
                                </a></li>
                        </ul>
                  </li>
                  <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                            <span class="glyphicon glyphicon-user"></span> 帐号设置

                        <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="{% url 'user_change_password' %}">
                                <span class="glyphicons glyphicons-keys">修改密码</span>
                                </a></li>
                            <li><a href="{% url 'user_send_old_email' %}">
                                <span class="glyphicons glyphicons-envelope">修改邮箱</span>
                                </a></li>
                            <li><a href="{% url 'user_info' %}">
                                <span class="glyphicons glyphicons-vcard">修改资料</span>
                                </a></li>
                        </ul>
                  </li>
                  {% if user.is_superuser %}
                      <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                            <span class="glyphicon glyphicon-cog"></span> 系统管理

                        <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="{% url 'user_manage' %}">
                                <span class="glyphicons glyphicons-user"></span>
                                用户管理</a></li>
                            <li><a href="{% url 'group_manage' %}">
                                <span class="glyphicons glyphicons-group"></span>
                                角色管理</a></li>
                            <li><a href="{% url 'perm_manage' %}">
                                <span class="glyphicons glyphicons-lock"></span>
                                权限管理</a></li>
                        </ul>
                      </li>
                  {% endif %}
                  <li><a href="{% url 'user_logout' %}">
                  <span class="glyphicon glyphicon-log-out"></span> 退出

                  </a></li>

                {% endif %}
              </ul>


            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </nav>
    {% endblock %}


    {% block body %}
    {% endblock %}
    <!--
    <script src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
	<script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script src="{% static 'js/jquery.min.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
    -->
    <!--
    <script type="text/javascript" charset="utf8" src="{% static 'js/kindeditor/kindeditor-all-min.js' %}"></script>
    <script type="text/javascript" charset="utf8" src="{% static 'js/kindeditor/lang/zh-CN.js' %} "></script>

     <script>
         var editor;
         KindEditor.ready(function(K){
             editor = K.create('textarea[name="content"]',{

             });
         });
     </script>
     -->
    {% block footer %}
    <br>


            <footer class="footer">
                <div class="container">
                    <div class="row">
                        <div class="col-md-12 text text-center">
                            <span class="hover-font">Copyright © 2005-2018 SYS_BLOG.COM 版权所有 粤ICP证xxxxxx号</span>
                        </div>
                    </div>
                </div>
            </footer>

    {% endblock %}
</body>
</html>